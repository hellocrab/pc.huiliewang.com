{"version":3,"sources":["webpack:///static/js/46.6b3ef0fd27a32f418fbc.js","webpack:///./src/components/crm/page/SelectList.vue?a492","webpack:///./src/components/crm/page/SelectList.vue","webpack:///./src/components/crm/page/SelectList.vue?a0fc","webpack:///./src/components/crm/page/SelectList.vue?5b91","webpack:///./src/components/crm/page/SelectList.vue?61c8"],"names":["webpackJsonp","491","module","exports","__webpack_require__","injectStyle","ssrContext","Component","658","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vux_src_components_group_index_vue__","__WEBPACK_IMPORTED_MODULE_0_vux_src_components_group_index_vue___default","n","__WEBPACK_IMPORTED_MODULE_1_vux_src_components_cell_index_vue__","__WEBPACK_IMPORTED_MODULE_1_vux_src_components_cell_index_vue___default","__WEBPACK_IMPORTED_MODULE_2__js_ajaxHttp__","__WEBPACK_IMPORTED_MODULE_3__js_utility_js__","__WEBPACK_IMPORTED_MODULE_4__js_Event_js__","name","components","Group","a","Cell","data","p","itemlist","showType","selectIDs","beforeDestroy","$off","mounted","this","$route","params","selecttype","JSON","parse","id","$on","saveInfos","bind","methods","infinite","done","getList","refresh","i","getUrl","getPostParams","res","wself","success","list","newItems","length","getNewItem","concat","getShowType","by","field","item","title","status_id","thumb_path","selected","role_id","selectClick","handleInfo","handleResult","getHandleUrl","getHandlePostParams","$emit","type","section","row","$router","go","getSelectImage","selectItem","index","tempArray","push","othertype","$vux","toast","text","747","version","sources","names","mappings","file","sourceRoot","813","content","locals","941","render","_vm","_h","$createElement","_c","_self","ref","attrs","on-refresh","on-infinite","gutter","_l","key","is-link","nativeOn","click","$event","_e","_v","user_name","inline-desc","department_name","directives","rawName","expression","staticStyle","display","margin-right","border-radius","width","slot","staticClass","on","src","height","staticRenderFns"],"mappings":"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","file":"static/js/46.6b3ef0fd27a32f418fbc.js","sourcesContent":["webpackJsonp([46],{\n\n/***/ 491:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(813)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(658),\n  /* template */\n  __webpack_require__(941),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-7defa1b1\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 658:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vux_src_components_group_index_vue__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vux_src_components_group_index_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vux_src_components_group_index_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vux_src_components_cell_index_vue__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vux_src_components_cell_index_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vux_src_components_cell_index_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__js_ajaxHttp__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__js_utility_js__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__js_Event_js__ = __webpack_require__(28);\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'selectlist',\n  components: {\n    Group: __WEBPACK_IMPORTED_MODULE_0_vux_src_components_group_index_vue___default.a,\n    Cell: __WEBPACK_IMPORTED_MODULE_1_vux_src_components_cell_index_vue___default.a\n  },\n  data: function data() {\n    return {\n      p: 1,\n      itemlist: [],\n      showType: 0, //1 是 展示一个数据   3 多选\n      selectIDs: [] // 已选ID 4 和 5\n    };\n  },\n  beforeDestroy: function beforeDestroy() {\n    __WEBPACK_IMPORTED_MODULE_4__js_Event_js__[\"a\" /* default */].$off(\"saveDone\");\n  },\n  mounted: function mounted() {\n    if (this.$route.params.selecttype === '4' || this.$route.params.selecttype === '5') {\n      this.selectIDs = JSON.parse(this.$route.params.id);\n    }\n    __WEBPACK_IMPORTED_MODULE_4__js_Event_js__[\"a\" /* default */].$on('saveDone', function () {\n      this.saveInfos();\n    }.bind(this));\n  },\n\n  methods: {\n    infinite: function infinite(done) {\n      this.getList(done);\n    },\n    refresh: function refresh(done) {\n      this.p = 1;\n      this.getList(done);\n    },\n    getList: function getList(done) {\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__js_ajaxHttp__[\"a\" /* AjaxSilentHttp */])('POST', this.getUrl(), this.getPostParams(), this, function (res, wself, success) {\n        if (success && __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__js_utility_js__[\"h\" /* isArrayType */])(res.list)) {\n          var newItems = [];\n          for (var i = 0; i < res.list.length; i++) {\n            newItems[i] = wself.getNewItem(res.list[i]);\n          }\n          if (wself.$route.params.selecttype === '1') {\n            wself.itemlist = newItems;\n            done(true);\n          } else if (wself.$route.params.selecttype === '2' || wself.$route.params.selecttype === '3' || wself.$route.params.selecttype === '4' || wself.$route.params.selecttype === '5') {\n            if (wself.p === 1) {\n              wself.itemlist = res.list;\n            } else {\n              wself.itemlist = wself.itemlist.concat(res.list);\n            }\n            if (typeof done === 'function') {\n              if (wself.p == 1 && res.list.length < 10) {\n                done(true);\n              } else if (res.list.length === 0) {\n                done(true);\n              } else {\n                done();\n              }\n            }\n            wself.p = wself.p + 1;\n          }\n          wself.getShowType();\n        }\n      });\n    },\n    getUrl: function getUrl() {\n      //相关url\n      if (this.$route.params.selecttype === '1') {\n        return 'm=business&a=status';\n      } else if (this.$route.params.selecttype === '2' || this.$route.params.selecttype === '3' || this.$route.params.selecttype === '4' || this.$route.params.selecttype === '5') {\n        //负责人\n        return 'm=user&a=listdialog';\n      }\n      return '';\n    },\n    getPostParams: function getPostParams() {\n      //相关参数\n      if (this.$route.params.selecttype === '1') {\n        //商机阶段\n        return {\n          'id': this.$route.params.id\n        };\n      } else if (this.$route.params.selecttype === '2') {\n        //负责人\n        return {\n          'p': this.p\n        };\n      } else if (this.$route.params.selecttype === '3') {\n        //审批人\n        return {\n          'p': this.p,\n          'by': 'examine'\n        };\n      } else if (this.$route.params.selecttype === '4') {\n        //任务下的分配人\n        return {\n          'p': this.p,\n          'by': 'task',\n          'field': 'about_roles'\n        };\n      } else if (this.$route.params.selecttype === '5') {\n        //任务下的关注人\n        return {\n          'p': this.p,\n          'by': 'task',\n          'field': 'owner_role_id'\n        };\n      }\n      return {};\n    },\n    getNewItem: function getNewItem(item) {\n      if (this.$route.params.selecttype === '1') {\n        //商机阶段\n        return { title: item.name, id: item.status_id };\n      } else if (this.$route.params.selecttype === '2' || this.$route.params.selecttype === '3') {\n        //负责人 审批人\n        item.thumb_path = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__js_utility_js__[\"c\" /* getImageUrl */])(item.thumb_path);\n        return item;\n      } else if (this.$route.params.selecttype === '4' || this.$route.params.selecttype === '5') {\n        //任务下的分配人 关注人\n        item.thumb_path = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__js_utility_js__[\"c\" /* getImageUrl */])(item.thumb_path);\n        item.selected = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__js_utility_js__[\"a\" /* arrContains */])(this.selectIDs, item.role_id);\n        return item;\n      }\n    },\n    getShowType: function getShowType() {\n      if (this.$route.params.selecttype === '1') {\n        this.showType = 1;\n      } else if (this.$route.params.selecttype === '2' || this.$route.params.selecttype === '3') {\n        this.showType = 2;\n      } else if (this.$route.params.selecttype === '4' || this.$route.params.selecttype === '5') {\n        this.showType = 3;\n      }\n    },\n    selectClick: function selectClick(item) {\n      if (this.$route.params.selecttype === '1') {\n        this.handleInfo(item);\n      } else if (this.$route.params.selecttype === '2' || this.$route.params.selecttype === '3') {\n        //负责人选择\n        this.handleResult(item);\n      }\n    },\n    getHandleUrl: function getHandleUrl() {\n      //相关url\n      if (this.$route.params.selecttype === '1') {\n        return 'm=business&a=advance';\n      }\n      return '';\n    },\n    getHandlePostParams: function getHandlePostParams(item) {\n      //相关参数\n      if (this.$route.params.selecttype === '1') {\n        //商机阶段\n        return {\n          'id': this.$route.params.id,\n          'status_id': item.id\n        };\n      }\n      return {};\n    },\n    handleInfo: function handleInfo(item) {\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__js_ajaxHttp__[\"b\" /* AjaxHttp */])('POST', this.getHandleUrl(), this.getHandlePostParams(item), this, function (res, wself, success) {\n        if (success) {\n          wself.handleResult(item, res);\n        }\n      });\n    },\n    handleResult: function handleResult(item, res) {\n      if (this.$route.params.selecttype === '1') {\n        __WEBPACK_IMPORTED_MODULE_4__js_Event_js__[\"a\" /* default */].$emit('selectedRelateItem', { type: this.$route.params.selecttype, item: item, section: this.$route.params.section, row: this.$route.params.row });\n        this.$router.go(-1);\n      } else if (this.$route.params.selecttype === '2' || this.$route.params.selecttype === '3') {\n        //负责人\n        __WEBPACK_IMPORTED_MODULE_4__js_Event_js__[\"a\" /* default */].$emit('selectedRelateItem', { type: this.$route.params.selecttype, item: item, section: this.$route.params.section, row: this.$route.params.row });\n        this.$router.go(-1);\n      }\n    },\n    getSelectImage: function getSelectImage(selected) {\n      if (selected) {\n        return __webpack_require__(121);\n      }\n      return __webpack_require__(122);\n    },\n    selectItem: function selectItem(item, index) {\n      item.selected = !item.selected;\n    },\n    saveInfos: function saveInfos() {\n      //多选的保存\n      var tempArray = [];\n      for (var i = 0; i < this.itemlist.length; i++) {\n        var item = this.itemlist[i];\n        if (item.selected) {\n          tempArray.push(item);\n        }\n      }\n\n      if (tempArray.length > 0) {\n        __WEBPACK_IMPORTED_MODULE_4__js_Event_js__[\"a\" /* default */].$emit('selectedRelateItem', { type: this.$route.params.selecttype, othertype: this.$route.params.type, data: tempArray, section: this.$route.params.section, row: this.$route.params.row });\n        this.$router.go(-1);\n      } else {\n        this.$vux.toast.text('请先进行选择', 'top');\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 747:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(73)(true);\n// imports\nexports.i(__webpack_require__(477), \"\");\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"SelectList.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 813:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(747);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(476)(\"7c581f7e\", content, true);\n\n/***/ }),\n\n/***/ 941:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('scroller', {\n    ref: \"my_scroller\",\n    attrs: {\n      \"on-refresh\": _vm.refresh,\n      \"on-infinite\": _vm.infinite\n    }\n  }, [_c('group', {\n    attrs: {\n      \"gutter\": \"0\"\n    }\n  }, [_vm._l((_vm.itemlist), function(item, index) {\n    return (_vm.showType === 1) ? _c('cell', {\n      key: index,\n      attrs: {\n        \"title\": item.title,\n        \"is-link\": \"\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.selectClick(item)\n        }\n      }\n    }) : _vm._e()\n  }), _vm._v(\" \"), _vm._l((_vm.itemlist), function(item, index) {\n    return (_vm.showType === 2) ? _c('cell', {\n      key: index,\n      attrs: {\n        \"title\": item.user_name,\n        \"inline-desc\": item.department_name,\n        \"is-link\": \"\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.selectClick(item)\n        }\n      }\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (item.thumb_path),\n        expression: \"item.thumb_path\"\n      }],\n      staticStyle: {\n        \"display\": \"block\",\n        \"margin-right\": \"10px\",\n        \"border-radius\": \"20px\"\n      },\n      attrs: {\n        \"width\": \"40\"\n      },\n      slot: \"icon\"\n    })]) : _vm._e()\n  }), _vm._v(\" \"), _vm._l((_vm.itemlist), function(item, index) {\n    return (_vm.showType === 3) ? _c('cell', {\n      key: index,\n      attrs: {\n        \"title\": item.user_name,\n        \"inline-desc\": item.department_name,\n        \"is-link\": \"\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.selectClick(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"flex-container flex-center\",\n      staticStyle: {\n        \"margin-right\": \"10px\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.selectItem(item, index)\n        }\n      },\n      slot: \"icon\"\n    }, [_c('img', {\n      staticStyle: {\n        \"margin-right\": \"10px\"\n      },\n      attrs: {\n        \"src\": _vm.getSelectImage(item.selected),\n        \"height\": \"20\",\n        \"width\": \"20\"\n      }\n    }), _vm._v(\" \"), _c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (item.thumb_path),\n        expression: \"item.thumb_path\"\n      }],\n      staticStyle: {\n        \"display\": \"block\",\n        \"border-radius\": \"20px\"\n      },\n      attrs: {\n        \"width\": \"40\"\n      }\n    })])]) : _vm._e()\n  })], 2)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/46.6b3ef0fd27a32f418fbc.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7defa1b1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SelectList.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectList.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7defa1b1\\\"}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SelectList.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-7defa1b1\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/crm/page/SelectList.vue\n// module id = 491\n// module chunks = 46","\nimport Group from 'vux/src/components/group/index.vue'\nimport Cell from 'vux/src/components/cell/index.vue'\n\nimport { AjaxHttp, AjaxSilentHttp } from '../../../js/ajaxHttp'\nimport { isArrayType, getImageUrl, arrContains } from \"../../../js/utility.js\"\nimport event from '../../../js/Event.js'\n\n\nexport default {\nname: 'selectlist',\ncomponents: {\nGroup,\nCell\n},\ndata() {\nreturn {\np: 1,\nitemlist: [],\nshowType: 0, //1 是 展示一个数据   3 多选\nselectIDs: [],// 已选ID 4 和 5\n}\n},\nbeforeDestroy() {\nevent.$off(\"saveDone\");\n},\nmounted() {\nif (this.$route.params.selecttype === '4' || this.$route.params.selecttype === '5') {\nthis.selectIDs = JSON.parse(this.$route.params.id);\n}\nevent.$on('saveDone', function() {\nthis.saveInfos();\n}.bind(this));\n},\nmethods: {\ninfinite(done) {\nthis.getList(done);\n},\nrefresh(done) {\nthis.p = 1;\nthis.getList(done);\n},\ngetList(done) {\nAjaxSilentHttp('POST', this.getUrl(), this.getPostParams(), this, function(res, wself, success) {\nif (success && isArrayType(res.list)) {\nvar newItems = [];\nfor (var i = 0; i < res.list.length; i++) {\nnewItems[i] = wself.getNewItem(res.list[i]);\n}\nif (wself.$route.params.selecttype === '1') {\nwself.itemlist = newItems;\ndone(true);\n} else if (wself.$route.params.selecttype === '2' || wself.$route.params.selecttype === '3' || wself.$route.params.selecttype === '4' || wself.$route.params.selecttype === '5') {\nif (wself.p === 1) {\nwself.itemlist = res.list;\n} else {\nwself.itemlist = wself.itemlist.concat(res.list);\n}\nif (typeof done === 'function') {\nif (wself.p == 1 && res.list.length < 10) {\ndone(true);\n} else if (res.list.length === 0) {\ndone(true);\n} else {\ndone();\n}\n}\nwself.p = wself.p + 1;\n}\nwself.getShowType();\n}\n});\n},\ngetUrl() { //相关url\nif (this.$route.params.selecttype === '1') {\nreturn 'm=business&a=status';\n} else if (this.$route.params.selecttype === '2' || this.$route.params.selecttype === '3' || this.$route.params.selecttype === '4' || this.$route.params.selecttype === '5') { //负责人\nreturn 'm=user&a=listdialog';\n}\nreturn '';\n},\ngetPostParams() { //相关参数\nif (this.$route.params.selecttype === '1') { //商机阶段\nreturn {\n'id': this.$route.params.id\n};\n} else if (this.$route.params.selecttype === '2') { //负责人\nreturn {\n'p': this.p\n};\n} else if (this.$route.params.selecttype === '3') { //审批人\nreturn {\n'p': this.p,\n'by': 'examine'\n};\n} else if (this.$route.params.selecttype === '4') { //任务下的分配人\nreturn {\n'p': this.p,\n'by': 'task',\n'field': 'about_roles'\n};\n} else if (this.$route.params.selecttype === '5') { //任务下的关注人\nreturn {\n'p': this.p,\n'by': 'task',\n'field': 'owner_role_id'\n};\n}\nreturn {};\n},\ngetNewItem(item) {\nif (this.$route.params.selecttype === '1') { //商机阶段\nreturn { title: item.name, id: item.status_id };\n} else if (this.$route.params.selecttype === '2' || this.$route.params.selecttype === '3') { //负责人 审批人\nitem.thumb_path = getImageUrl(item.thumb_path);\nreturn item;\n} else if (this.$route.params.selecttype === '4' || this.$route.params.selecttype === '5') { //任务下的分配人 关注人\nitem.thumb_path = getImageUrl(item.thumb_path);\nitem.selected = arrContains(this.selectIDs, item.role_id);\nreturn item;\n}\n},\ngetShowType() {\nif (this.$route.params.selecttype === '1') {\nthis.showType = 1;\n} else if (this.$route.params.selecttype === '2' || this.$route.params.selecttype === '3') {\nthis.showType = 2;\n} else if (this.$route.params.selecttype === '4' || this.$route.params.selecttype === '5') {\nthis.showType = 3;\n}\n},\nselectClick(item) {\nif (this.$route.params.selecttype === '1') {\nthis.handleInfo(item);\n} else if (this.$route.params.selecttype === '2' || this.$route.params.selecttype === '3') { //负责人选择\nthis.handleResult(item);\n}\n},\ngetHandleUrl() { //相关url\nif (this.$route.params.selecttype === '1') {\nreturn 'm=business&a=advance';\n}\nreturn '';\n},\ngetHandlePostParams(item) { //相关参数\nif (this.$route.params.selecttype === '1') { //商机阶段\nreturn {\n'id': this.$route.params.id,\n'status_id': item.id\n};\n}\nreturn {};\n},\nhandleInfo(item) {\nAjaxHttp('POST', this.getHandleUrl(), this.getHandlePostParams(item), this, function(res, wself, success) {\nif (success) {\nwself.handleResult(item, res);\n}\n});\n},\nhandleResult(item, res) {\nif (this.$route.params.selecttype === '1') {\nevent.$emit('selectedRelateItem', { type: this.$route.params.selecttype, item: item, section: this.$route.params.section, row: this.$route.params.row });\nthis.$router.go(-1);\n} else if (this.$route.params.selecttype === '2' || this.$route.params.selecttype === '3') { //负责人\nevent.$emit('selectedRelateItem', { type: this.$route.params.selecttype, item: item, section: this.$route.params.section, row: this.$route.params.row });\nthis.$router.go(-1);\n}\n},\ngetSelectImage(selected) {\nif (selected) {\nreturn require('../../../assets/selected.png');\n}\nreturn require('../../../assets/un_selected.png');\n},\nselectItem(item, index) {\nitem.selected = !item.selected;\n},\nsaveInfos() { //多选的保存\nvar tempArray = [];\nfor (var i = 0; i < this.itemlist.length; i++) {\nvar item = this.itemlist[i];\nif (item.selected) {\ntempArray.push(item);\n}\n}\n\nif (tempArray.length > 0) {\nevent.$emit('selectedRelateItem', { type: this.$route.params.selecttype, othertype: this.$route.params.type, data: tempArray, section: this.$route.params.section, row: this.$route.params.row });\nthis.$router.go(-1);\n} else {\nthis.$vux.toast.text('请先进行选择', 'top');\n}\n}\n\n}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/crm/page/SelectList.vue","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\nexports.i(require(\"-!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../css/mystyle.css\"), \"\");\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"SelectList.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7defa1b1\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/crm/page/SelectList.vue\n// module id = 747\n// module chunks = 46","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7defa1b1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SelectList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"7c581f7e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7defa1b1\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/crm/page/SelectList.vue\n// module id = 813\n// module chunks = 46","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('scroller', {\n    ref: \"my_scroller\",\n    attrs: {\n      \"on-refresh\": _vm.refresh,\n      \"on-infinite\": _vm.infinite\n    }\n  }, [_c('group', {\n    attrs: {\n      \"gutter\": \"0\"\n    }\n  }, [_vm._l((_vm.itemlist), function(item, index) {\n    return (_vm.showType === 1) ? _c('cell', {\n      key: index,\n      attrs: {\n        \"title\": item.title,\n        \"is-link\": \"\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.selectClick(item)\n        }\n      }\n    }) : _vm._e()\n  }), _vm._v(\" \"), _vm._l((_vm.itemlist), function(item, index) {\n    return (_vm.showType === 2) ? _c('cell', {\n      key: index,\n      attrs: {\n        \"title\": item.user_name,\n        \"inline-desc\": item.department_name,\n        \"is-link\": \"\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.selectClick(item)\n        }\n      }\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (item.thumb_path),\n        expression: \"item.thumb_path\"\n      }],\n      staticStyle: {\n        \"display\": \"block\",\n        \"margin-right\": \"10px\",\n        \"border-radius\": \"20px\"\n      },\n      attrs: {\n        \"width\": \"40\"\n      },\n      slot: \"icon\"\n    })]) : _vm._e()\n  }), _vm._v(\" \"), _vm._l((_vm.itemlist), function(item, index) {\n    return (_vm.showType === 3) ? _c('cell', {\n      key: index,\n      attrs: {\n        \"title\": item.user_name,\n        \"inline-desc\": item.department_name,\n        \"is-link\": \"\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.selectClick(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"flex-container flex-center\",\n      staticStyle: {\n        \"margin-right\": \"10px\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.selectItem(item, index)\n        }\n      },\n      slot: \"icon\"\n    }, [_c('img', {\n      staticStyle: {\n        \"margin-right\": \"10px\"\n      },\n      attrs: {\n        \"src\": _vm.getSelectImage(item.selected),\n        \"height\": \"20\",\n        \"width\": \"20\"\n      }\n    }), _vm._v(\" \"), _c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (item.thumb_path),\n        expression: \"item.thumb_path\"\n      }],\n      staticStyle: {\n        \"display\": \"block\",\n        \"border-radius\": \"20px\"\n      },\n      attrs: {\n        \"width\": \"40\"\n      }\n    })])]) : _vm._e()\n  })], 2)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7defa1b1\"}!./~/vux-loader/src/before-template-compiler-loader.js!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/crm/page/SelectList.vue\n// module id = 941\n// module chunks = 46"],"sourceRoot":""}