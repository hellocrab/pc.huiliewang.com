webpackJsonp([41],{510:function(e,t,i){function a(e){i(781)}var s=i(0)(i(681),i(909),a,"data-v-1aa6dad1",null);e.exports=s.exports},681:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(15),s=i.n(a),o=i(10),n=(i(14),i(3)),l=i(35),d=i.n(l),r=i(9),u=i(79),c=i(28),h=i(126),m=i.n(h);t.default={name:"conmmondetail",components:{ListCell:d.a,Actionsheet:m.a},data:function(){return{type:"",itemList:[],showRightMenus:!1,rightMenus:{}}},computed:s()({PlateType:function(){return o.a}},i.i(r.b)(["detailView"])),beforeDestroy:function(){c.a.$off("onClickMore")},mounted:function(){c.a.$on("onClickMore",function(e){this.showRightMenus=!0}.bind(this)),this.type=this.$route.params.type,this.getDetail()},methods:{getDetail:function(){if("scheduleview"===this.type){this.$store.commit("updateXheaderRightOptions",!0),this.rightMenus.edit="编辑";var e=[];e.push({name:"内容",val:this.detailView.subject,color:"#8D8D8D",type:"0"}),e.push({name:"开始时间",val:i.i(n.j)(this.detailView.start_date),color:"#8D8D8D",type:"0"}),e.push({name:"结束时间",val:i.i(n.j)(this.detailView.end_date),color:"#8D8D8D",type:"0"});var t=o.a.Default,a="";"customer"===this.detailView.module?(t=o.a.Customer,a="客户"):"contacts"===this.detailView.module?(t=o.a.Contacts,a="联系人"):"leads"===this.detailView.module?(t=o.a.Leads,a="线索"):"business"===this.detailView.module?(t=o.a.Business,a="商机"):"product"===this.detailView.module?(t=o.a.Product,a="产品"):"contract"===this.detailView.module?(t=o.a.Contract,a="产品"):(t="0",a=""),e.push({name:"相关"+a,val:this.detailView.module_name,color:u.a.HeaderColor,type:t,addition:this.detailView.module_id}),e.push({name:"描述",val:this.detailView.description,color:"#8D8D8D",type:"0"}),this.itemList=e}},clickItem:function(e){"scheduleview"===this.type&&"0"!==e.type&&(e.type===o.a.Product?this.$router.push({name:"crmdetail",params:{id:e.addition,type:e.type}}):this.$router.push({name:"maindetail",params:{id:e.addition,type:e.type}}))},clickRightMenu:function(e){if("scheduleview"===this.type&&"edit"==e){var t={};t.type=o.a.Schedule,t.content=this.detailView.subject,t.starttime=i.i(n.j)(this.detailView.start_date),t.endtime=i.i(n.j)(this.detailView.end_date),t.module=this.detailView.module,t.module_id=this.detailView.module_id,t.module_name=this.detailView.module_name,t.description=this.detailView.description,t.colorindex=this.getColorindex(),t.id=this.detailView.event_id,this.$store.commit("updateDetail",t),this.$router.push({name:"createschedule",params:{action:"edit"}})}},getColorindex:function(){for(var e=["#62a8ea","#46be8a","#57c7d4","#f2a654","#f96868","#526069","#926dde"],t=-1,i=0;i<e.length;i++){e[i]===this.detailView.color&&(t=i)}return t}}}},715:function(e,t,i){t=e.exports=i(73)(!0),t.i(i(478),""),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"CommonDetail.vue",sourceRoot:""}])},781:function(e,t,i){var a=i(715);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(476)("2314373a",a,!0)},909:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("scroller",{ref:"my_scroller"},[i("div",{staticClass:"weui-cells",staticStyle:{"margin-top":"0px"}},e._l(e.itemList,function(t,a){return i("list-cell",{key:a,attrs:{title:t.name,detail:t.val,detailColor:t.color},nativeOn:{click:function(i){e.clickItem(t)}}})}))]),e._v(" "),i("actionsheet",{attrs:{menus:e.rightMenus},on:{"on-click-menu":e.clickRightMenu},model:{value:e.showRightMenus,callback:function(t){e.showRightMenus=t},expression:"showRightMenus"}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=41.0ad3b2534a13c9c70df1.js.map