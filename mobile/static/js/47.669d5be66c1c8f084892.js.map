{"version":3,"sources":["webpack:///static/js/47.669d5be66c1c8f084892.js","webpack:///./src/components/crm/page/CRMSearch.vue?e9d9","webpack:///./src/components/crm/page/CRMSearch.vue","webpack:///./src/components/crm/page/CRMSearch.vue?30e4","webpack:///./src/components/crm/page/CRMSearch.vue?9c49","webpack:///./src/components/crm/page/CRMSearch.vue?e488"],"names":["webpackJsonp","487","module","exports","__webpack_require__","injectStyle","ssrContext","Component","654","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1__js_ajaxHttp__","__WEBPACK_IMPORTED_MODULE_2__js_enum_js__","__WEBPACK_IMPORTED_MODULE_3__js_Event_js__","__WEBPACK_IMPORTED_MODULE_4__js_utility_js__","__WEBPACK_IMPORTED_MODULE_5__components_CommonCell__","__WEBPACK_IMPORTED_MODULE_5__components_CommonCell___default","__WEBPACK_IMPORTED_MODULE_6__components_ListCell__","__WEBPACK_IMPORTED_MODULE_6__components_ListCell___default","__WEBPACK_IMPORTED_MODULE_7__components_FreceivablesCell_vue__","__WEBPACK_IMPORTED_MODULE_7__components_FreceivablesCell_vue___default","__WEBPACK_IMPORTED_MODULE_8__components_FreceivingorderCell_vue__","__WEBPACK_IMPORTED_MODULE_8__components_FreceivingorderCell_vue___default","__WEBPACK_IMPORTED_MODULE_9__components_ContractCell_vue__","__WEBPACK_IMPORTED_MODULE_9__components_ContractCell_vue___default","__WEBPACK_IMPORTED_MODULE_10__components_BusinessCell_vue__","__WEBPACK_IMPORTED_MODULE_10__components_BusinessCell_vue___default","__WEBPACK_IMPORTED_MODULE_11_vux_src_components_grid_grid_vue__","__WEBPACK_IMPORTED_MODULE_11_vux_src_components_grid_grid_vue___default","__WEBPACK_IMPORTED_MODULE_12_vux_src_components_grid_grid_item_vue__","__WEBPACK_IMPORTED_MODULE_12_vux_src_components_grid_grid_item_vue___default","__WEBPACK_IMPORTED_MODULE_13_vux_src_components_group_index_vue__","__WEBPACK_IMPORTED_MODULE_13_vux_src_components_group_index_vue___default","__WEBPACK_IMPORTED_MODULE_14_vux_src_components_cell_index_vue__","__WEBPACK_IMPORTED_MODULE_14_vux_src_components_cell_index_vue___default","__WEBPACK_IMPORTED_MODULE_15_vuex__","name","components","Grid","a","GridItem","Group","Cell","CommonCell","ListCell","FreceivablesCell","FreceivingorderCell","BusinessCell","ContractCell","computed","i","PlateType","showProductSelect","this","$route","params","action","data","p","type","searchText","listItem","mounted","initInfo","$refs","my_scroller","finishInfinite","beforeDestroy","$off","beforeRouteLeave","to","from","next","$store","commit","list","scroll","getPosition","top","loadingState","methods","_this","$on","searchtext","searchContent","bind","crmSearchListInfo","$nextTick","resize","scrollTo","content","enterDetail","item","Product","$router","push","id","$emit","fromtype","section","row","addition","Business","Contacts","go","refresh","done","getList","infinite","url","postParams","Leads","Customer","CustomerPool","Contract","FinanceReceivables","FinanceReceivingorder","customer_id","filterMenuIndex","filterSelectID","res","wself","success","newItems","length","getNewItem","concat","title","detail","mobile","rightTitle","create_time","permission","leads_id","owner_name","customer_name","rightDetail","final_price","percent","schedule","status_name","business_id","number","price","parseInt","toString","is_checked","contract_id","telephone","contacts_id","selected","selectItemList","selectItem","product_id","standard","suggested_price","receivables_id","receivingorder_id","left","right","716","version","sources","names","mappings","file","sourceRoot","782","locals","910","render","_vm","_h","$createElement","_c","_self","ref","attrs","on-refresh","on-infinite","staticClass","staticStyle","margin-top","_l","index","key","nativeOn","click","$event","_e","_v","isChecked","gutter","directives","rawName","getSelectImage","expression","display","margin","width","height","on","selectProduct","slot","_s","text-align","min-height","font-size","color","staticRenderFns"],"mappings":"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","file":"static/js/47.669d5be66c1c8f084892.js","sourcesContent":["webpackJsonp([47],{\n\n/***/ 487:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(782)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(654),\n  /* template */\n  __webpack_require__(910),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1afe387f\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 654:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__js_ajaxHttp__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__js_enum_js__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__js_Event_js__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__js_utility_js__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_CommonCell__ = __webpack_require__(138);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_CommonCell___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__components_CommonCell__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_ListCell__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_ListCell___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__components_ListCell__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_FreceivablesCell_vue__ = __webpack_require__(146);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_FreceivablesCell_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__components_FreceivablesCell_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_FreceivingorderCell_vue__ = __webpack_require__(147);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_FreceivingorderCell_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__components_FreceivingorderCell_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_ContractCell_vue__ = __webpack_require__(139);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_ContractCell_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__components_ContractCell_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_BusinessCell_vue__ = __webpack_require__(137);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_BusinessCell_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__components_BusinessCell_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_vux_src_components_grid_grid_vue__ = __webpack_require__(125);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_vux_src_components_grid_grid_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_vux_src_components_grid_grid_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_vux_src_components_grid_grid_item_vue__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_vux_src_components_grid_grid_item_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_vux_src_components_grid_grid_item_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_vux_src_components_group_index_vue__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_vux_src_components_group_index_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_vux_src_components_group_index_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_vux_src_components_cell_index_vue__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_vux_src_components_cell_index_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_vux_src_components_cell_index_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_vuex__ = __webpack_require__(9);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'crmsearch',\n  components: {\n    Grid: __WEBPACK_IMPORTED_MODULE_11_vux_src_components_grid_grid_vue___default.a,\n    GridItem: __WEBPACK_IMPORTED_MODULE_12_vux_src_components_grid_grid_item_vue___default.a,\n    Group: __WEBPACK_IMPORTED_MODULE_13_vux_src_components_group_index_vue___default.a,\n    Cell: __WEBPACK_IMPORTED_MODULE_14_vux_src_components_cell_index_vue___default.a,\n    CommonCell: __WEBPACK_IMPORTED_MODULE_5__components_CommonCell___default.a,\n    ListCell: __WEBPACK_IMPORTED_MODULE_6__components_ListCell___default.a,\n    FreceivablesCell: __WEBPACK_IMPORTED_MODULE_7__components_FreceivablesCell_vue___default.a,\n    FreceivingorderCell: __WEBPACK_IMPORTED_MODULE_8__components_FreceivingorderCell_vue___default.a,\n    BusinessCell: __WEBPACK_IMPORTED_MODULE_10__components_BusinessCell_vue___default.a,\n    ContractCell: __WEBPACK_IMPORTED_MODULE_9__components_ContractCell_vue___default.a\n  },\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15_vuex__[\"b\" /* mapState */])(['crmSearchListInfo']), {\n    PlateType: function PlateType() {\n      return __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */];\n    },\n    showProductSelect: function showProductSelect() {\n      return this.$route.params.action === 'productmultiple';\n    }\n  }),\n  data: function data() {\n    return {\n      p: 1,\n      type: '',\n      searchText: '',\n      listItem: []\n    };\n  },\n  mounted: function mounted() {\n    this.initInfo();\n    this.$refs.my_scroller.finishInfinite(true);\n  },\n  beforeDestroy: function beforeDestroy() {\n    __WEBPACK_IMPORTED_MODULE_3__js_Event_js__[\"a\" /* default */].$off(\"searchtextDone\");\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n\n    if (this.$route.params.action === 'default') {\n      //正常模式下才进行缓存\n      if (to.name === 'maindetail' || to.name === 'crmdetail') {\n        //离开页面返回上层，需要重置数据\n        this.$store.commit('updateCrmSearchListInfo', {\n          type: this.$route.params.type, //平台类型与type相同 进行赋值\n          list: this.listItem,\n          p: this.p,\n          searchText: this.searchText,\n          scroll: this.$refs.my_scroller.getPosition().top,\n          loadingState: this.$refs.my_scroller.loadingState\n        });\n      } else {\n        //记录所有状态\n        this.$store.commit('updateCrmSearchListInfo', {\n          type: '', //平台类型与type相同 进行赋值\n          list: [],\n          p: 1,\n          scroll: 0,\n          loadingState: 0\n        });\n      }\n    }\n    next();\n  },\n\n  methods: {\n    initInfo: function initInfo() {\n      var _this = this;\n\n      __WEBPACK_IMPORTED_MODULE_3__js_Event_js__[\"a\" /* default */].$on('searchtextDone', function (searchtext) {\n        this.searchContent(searchtext);\n      }.bind(this));\n      this.type = this.$route.params.type;\n      if (this.crmSearchListInfo.type === this.type) {\n        this.listItem = this.crmSearchListInfo.list;\n        this.p = this.crmSearchListInfo.p;\n        this.searchText = this.crmSearchListInfo.searchText;\n        this.$nextTick(function () {\n          _this.$refs.my_scroller.resize();\n          _this.$refs.my_scroller.scrollTo(0, _this.crmSearchListInfo.scroll, false);\n          if (_this.crmSearchListInfo.loadingState === 2) {\n            _this.$refs.my_scroller.finishInfinite(true);\n          }\n        });\n      }\n    },\n    searchContent: function searchContent(content) {\n      if (content === '' || this.searchText === content) {\n        return;\n      }\n      this.p = 1;\n      this.searchText = content;\n      this.listItem = [];\n      this.$refs.my_scroller.finishInfinite(false);\n    },\n    enterDetail: function enterDetail(item) {\n      if (this.$route.params.action === 'default') {\n        if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Product) {\n          this.$router.push({\n            name: 'crmdetail',\n            params: {\n              id: item.id,\n              type: this.type\n            }\n          });\n        } else {\n          this.$router.push({\n            name: 'maindetail',\n            params: {\n              id: item.id,\n              type: this.type\n            }\n          });\n        }\n      } else if (this.$route.params.action === 'select') {\n        __WEBPACK_IMPORTED_MODULE_3__js_Event_js__[\"a\" /* default */].$emit('selectedRelateItem', { type: this.type, fromtype: this.$route.params.fromtype, item: item, section: this.$route.params.section, row: this.$route.params.row, addition: this.$route.params.addition });\n        if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Business && this.$route.params.fromtype === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Contacts) {\n          //联系人下的关联商机跳转\n          this.$store.commit('updateCrmDetailInfoRefresh', true);\n        }\n        this.$router.go(-2);\n      }\n    },\n    refresh: function refresh(done) {\n      this.p = 1;\n      this.getList(done);\n    },\n    infinite: function infinite(done) {\n      this.getList(done);\n    },\n    getList: function getList(done) {\n      if (this.searchText === '') {\n        return;\n      }\n      var url = '';\n      var postParams = {};\n      if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Leads) {\n        url = 'm=leads&a=index';\n        postParams['field'] = 'name';\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Customer) {\n        url = 'm=customer&a=index';\n        postParams['field'] = 'name';\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].CustomerPool) {\n        url = 'm=customer&a=index&content=resource';\n        postParams['field'] = 'name';\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Business) {\n        url = 'm=business&a=index';\n        postParams['field'] = 'name';\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Contract) {\n        url = 'm=contract&a=index';\n        postParams['field'] = 'number';\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Contacts) {\n        url = 'm=contacts&a=index';\n        postParams['field'] = 'name';\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Product) {\n        url = 'm=product&a=index';\n        postParams['field'] = 'name';\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].FinanceReceivables) {\n        url = 'm=finance&a=index';\n        postParams['t'] = 'receivables';\n        postParams['field'] = 'name';\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].FinanceReceivingorder) {\n        url = 'm=finance&a=index';\n        postParams['t'] = 'receivingorder';\n        postParams['field'] = 'name';\n      }\n\n      if (this.$route.params.action === 'select') {\n        postParams['p'] = this.p;\n        postParams['condition'] = 'contains';\n        postParams['search'] = this.searchText;\n        if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Contacts) {\n          //进行选择操作 并且是 联系人 需要客户ID\n          postParams['customer_id'] = this.$route.params.addition;\n        } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Business) {\n          //进行联系人关联商机 传客户ID\n          postParams['customer_id'] = this.$route.params.addition.customer_id;\n        }\n      } else if (this.$route.params.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Product) {\n        if (this.filterMenuIndex !== -1) {\n          postParams['p'] = this.p;\n          postParams['condition'] = 'contains';\n          postParams['search'] = this.searchText;\n          postParams['category_id'] = this.filterSelectID;\n        }\n      } else {\n        postParams['p'] = this.p;\n        postParams['condition'] = 'contains';\n        postParams['search'] = this.searchText;\n      }\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__js_ajaxHttp__[\"a\" /* AjaxSilentHttp */])('POST', url, postParams, this, function (res, wself, success) {\n        if (success && __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__js_utility_js__[\"h\" /* isArrayType */])(res.list)) {\n          var newItems = [];\n          for (var i = 0; i < res.list.length; i++) {\n            newItems[i] = wself.getNewItem(res.list[i]);\n          }\n          if (wself.p === 1) {\n            wself.listItem = newItems;\n          } else {\n            wself.listItem = wself.listItem.concat(newItems);\n          }\n          if (typeof done === 'function') {\n            if (wself.p === 1 && res.list.length < 10) {\n              done(true);\n            } else if (res.list.length === 0) {\n              done(true);\n            } else {\n              done();\n            }\n          }\n          wself.p = wself.p + 1;\n        }\n      });\n    },\n    getNewItem: function getNewItem(item) {\n      if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Leads) {\n        return { title: item.name, detail: item.mobile === '' ? '无' : item.mobile, rightTitle: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__js_utility_js__[\"i\" /* getYMDFormateTime */])(item.create_time), permission: item.permission, id: item.leads_id };\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Customer || this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].CustomerPool) {\n        return { title: item.name, detail: item.owner_name, rightTitle: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__js_utility_js__[\"i\" /* getYMDFormateTime */])(item.create_time), permission: item.permission, id: item.customer_id };\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Business) {\n        return { title: item.name, detail: item.customer_name, rightTitle: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__js_utility_js__[\"i\" /* getYMDFormateTime */])(item.create_time), rightDetail: item.final_price, percent: item.schedule, schedule: item.status_name, permission: item.permission, id: item.business_id };\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Contract) {\n        return { title: item.number, detail: item.customer_name, rightTitle: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__js_utility_js__[\"i\" /* getYMDFormateTime */])(item.create_time), rightDetail: item.price, percent: parseInt(item.schedule) > 100 ? '100' : item.schedule.toString(), is_checked: item.is_checked, permission: item.permission, id: item.contract_id };\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Contacts) {\n        return { title: item.name, detail: item.customer_name, rightTitle: item.telephone, permission: item.permission, id: item.contacts_id };\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].Product) {\n        var selected = false;\n        if (this.$route.params.action === 'productmultiple') {\n          for (var i = 0; i < this.selectItemList.length; i++) {\n            var selectItem = this.selectItemList[i];\n            if (selectItem.id === item.product_id) {\n              selected = true;\n            }\n          }\n        }\n        return { title: item.name, detail: item.standard === '' ? item.standard : '价格（元/' + item.standard + '）', rightTitle: item.suggested_price, standard: item.standard, permission: item.permission, id: item.product_id, selected: selected };\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].FinanceReceivables) {\n        item.schedule = parseInt(item.schedule) > 100 ? '100' : item.schedule.toString();\n        item.id = item.receivables_id;\n        return item;\n      } else if (this.type === __WEBPACK_IMPORTED_MODULE_2__js_enum_js__[\"a\" /* default */].FinanceReceivingorder) {\n        item.id = item.receivingorder_id;\n        return item;\n      }\n      return { top: '', left: '', right: '' };\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 716:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(73)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"CRMSearch.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 782:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(716);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(476)(\"47df1268\", content, true);\n\n/***/ }),\n\n/***/ 910:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('scroller', {\n    ref: \"my_scroller\",\n    attrs: {\n      \"on-refresh\": _vm.refresh,\n      \"on-infinite\": _vm.infinite\n    }\n  }, [(_vm.type == _vm.PlateType.Leads || _vm.type == _vm.PlateType.Customer || _vm.type == _vm.PlateType.CustomerPool || _vm.type == _vm.PlateType.Contacts) ? _c('div', {\n    staticClass: \"weui-cells\",\n    staticStyle: {\n      \"margin-top\": \"0px\"\n    }\n  }, _vm._l((_vm.listItem), function(item, index) {\n    return _c('common-cell', {\n      key: index,\n      attrs: {\n        \"title\": item.title,\n        \"detail\": item.detail,\n        \"rightTitle\": item.rightTitle\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    })\n  })) : _vm._e(), _vm._v(\" \"), (_vm.type == _vm.PlateType.Contract) ? _c('div', {\n    staticClass: \"weui-cells\",\n    staticStyle: {\n      \"margin-top\": \"0px\"\n    }\n  }, _vm._l((_vm.listItem), function(item, index) {\n    return _c('contract-cell', {\n      key: index,\n      attrs: {\n        \"title\": item.title,\n        \"detail\": item.detail,\n        \"rightTitle\": item.rightTitle,\n        \"rightDetail\": item.rightDetail,\n        \"percent\": item.percent,\n        \"isChecked\": item.is_checked\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    })\n  })) : _vm._e(), _vm._v(\" \"), (_vm.type == _vm.PlateType.Business) ? _c('div', {\n    staticClass: \"weui-cells\",\n    staticStyle: {\n      \"margin-top\": \"0px\"\n    }\n  }, _vm._l((_vm.listItem), function(item, index) {\n    return _c('business-cell', {\n      key: index,\n      attrs: {\n        \"title\": item.title,\n        \"detail\": item.detail,\n        \"rightTitle\": item.rightTitle,\n        \"rightDetail\": item.rightDetail,\n        \"percent\": item.percent,\n        \"schedule\": item.schedule\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    })\n  })) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.listItem), function(item, index) {\n    return (_vm.type === _vm.PlateType.FinanceReceivables) ? _c('freceivables-cell', {\n      key: index,\n      attrs: {\n        \"item\": item\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    }) : _vm._e()\n  }), _vm._v(\" \"), _vm._l((_vm.listItem), function(item, index) {\n    return (_vm.type === _vm.PlateType.FinanceReceivingorder) ? _c('freceivingorder-cell', {\n      key: index,\n      attrs: {\n        \"item\": item\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    }) : _vm._e()\n  }), _vm._v(\" \"), (_vm.type == _vm.PlateType.Product) ? _c('group', {\n    attrs: {\n      \"gutter\": \"0\"\n    }\n  }, _vm._l((_vm.listItem), function(item, index) {\n    return _c('cell', {\n      key: index,\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    }, [(_vm.showProductSelect) ? _c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (_vm.getSelectImage(item.selected)),\n        expression: \"getSelectImage(item.selected)\"\n      }],\n      staticStyle: {\n        \"display\": \"block\",\n        \"margin\": \"10px\"\n      },\n      attrs: {\n        \"width\": \"20\",\n        \"height\": \"20\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.selectProduct(item)\n        }\n      },\n      slot: \"icon\"\n    }) : _vm._e(), _vm._v(\" \"), _c('p', {\n      slot: \"title\"\n    }, [_vm._v(_vm._s(item.title))]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"text-align\": \"right\"\n      },\n      slot: \"value\"\n    }, [_c('p', {\n      staticStyle: {\n        \"min-height\": \"16px\",\n        \"font-size\": \"12px\"\n      }\n    }, [_vm._v(_vm._s(item.detail))]), _vm._v(\" \"), _c('p', {\n      staticStyle: {\n        \"color\": \"#5CB64F\"\n      }\n    }, [_vm._v(_vm._s(item.rightTitle))])])])\n  })) : _vm._e()], 2)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/47.669d5be66c1c8f084892.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1afe387f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CRMSearch.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CRMSearch.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1afe387f\\\"}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CRMSearch.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1afe387f\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/crm/page/CRMSearch.vue\n// module id = 487\n// module chunks = 47","\nimport { AjaxHttp, AjaxSilentHttp } from '../../../js/ajaxHttp'\nimport PlateType from '../../../js/enum.js'\nimport event from '../../../js/Event.js'\nimport { getYMDFormateTime, isArrayType } from \"../../../js/utility.js\"\nimport CommonCell from '../components/CommonCell'\nimport ListCell from '../components/ListCell'\nimport FreceivablesCell from '../components/FreceivablesCell.vue'\nimport FreceivingorderCell from '../components/FreceivingorderCell.vue'\nimport ContractCell from '../components/ContractCell.vue'\nimport BusinessCell from '../components/BusinessCell.vue'\nimport Grid from 'vux/src/components/grid/grid.vue'\nimport GridItem from 'vux/src/components/grid/grid-item.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport Cell from 'vux/src/components/cell/index.vue'\n\nimport { mapState } from 'vuex'\n\nexport default {\nname: 'crmsearch',\ncomponents: {\nGrid,\nGridItem,\nGroup,\nCell,\nCommonCell,\nListCell,\nFreceivablesCell,\nFreceivingorderCell,\nBusinessCell,\nContractCell\n},\ncomputed: {\n...mapState([\n'crmSearchListInfo'\n]),\nPlateType() {\nreturn PlateType;\n},\nshowProductSelect() {\nreturn this.$route.params.action === 'productmultiple';\n},\n},\ndata() {\nreturn {\np: 1,\ntype: '',\nsearchText: '',\nlistItem: []\n}\n},\nmounted() {\nthis.initInfo();\nthis.$refs.my_scroller.finishInfinite(true);\n},\nbeforeDestroy() {\nevent.$off(\"searchtextDone\");\n},\nbeforeRouteLeave(to, from, next) {\n\n\n\n\nif (this.$route.params.action === 'default') { //正常模式下才进行缓存\nif (to.name === 'maindetail' || to.name === 'crmdetail') { //离开页面返回上层，需要重置数据\nthis.$store.commit('updateCrmSearchListInfo', {\ntype: this.$route.params.type, //平台类型与type相同 进行赋值\nlist: this.listItem,\np: this.p,\nsearchText: this.searchText,\nscroll: this.$refs.my_scroller.getPosition().top,\nloadingState: this.$refs.my_scroller.loadingState\n});\n} else { //记录所有状态\nthis.$store.commit('updateCrmSearchListInfo', {\ntype: '', //平台类型与type相同 进行赋值\nlist: [],\np: 1,\nscroll: 0,\nloadingState: 0\n});\n\n}\n}\nnext();\n},\nmethods: {\ninitInfo() {\nevent.$on('searchtextDone', function(searchtext) {\nthis.searchContent(searchtext);\n}.bind(this));\nthis.type = this.$route.params.type;\nif (this.crmSearchListInfo.type === this.type) {\nthis.listItem = this.crmSearchListInfo.list;\nthis.p = this.crmSearchListInfo.p;\nthis.searchText = this.crmSearchListInfo.searchText;\nthis.$nextTick(() => {\nthis.$refs.my_scroller.resize();\nthis.$refs.my_scroller.scrollTo(0, this.crmSearchListInfo.scroll, false);\nif (this.crmSearchListInfo.loadingState === 2) {\nthis.$refs.my_scroller.finishInfinite(true);\n}\n});\n}\n},\nsearchContent(content) {\nif (content === '' || this.searchText === content) { return; }\nthis.p = 1;\nthis.searchText = content;\nthis.listItem = [];\nthis.$refs.my_scroller.finishInfinite(false);\n},\nenterDetail(item) {\nif (this.$route.params.action === 'default') {\nif (this.type === PlateType.Product) {\nthis.$router.push({\nname: 'crmdetail',\nparams: {\nid: item.id,\ntype: this.type\n}\n});\n} else {\nthis.$router.push({\nname: 'maindetail',\nparams: {\nid: item.id,\ntype: this.type\n}\n});\n}\n} else if (this.$route.params.action === 'select') {\nevent.$emit('selectedRelateItem', { type: this.type, fromtype: this.$route.params.fromtype, item: item, section: this.$route.params.section, row: this.$route.params.row, addition: this.$route.params.addition });\nif (this.type === PlateType.Business && this.$route.params.fromtype === PlateType.Contacts) { //联系人下的关联商机跳转\nthis.$store.commit('updateCrmDetailInfoRefresh', true);\n}\nthis.$router.go(-2);\n}\n},\nrefresh(done) {\nthis.p = 1;\nthis.getList(done);\n},\ninfinite(done) {\nthis.getList(done);\n},\ngetList(done) {\nif (this.searchText === '') { return; }\nvar url = '';\nvar postParams = {};\nif (this.type === PlateType.Leads) {\nurl = 'm=leads&a=index';\npostParams['field'] = 'name';\n} else if (this.type === PlateType.Customer) {\nurl = 'm=customer&a=index';\npostParams['field'] = 'name';\n} else if (this.type === PlateType.CustomerPool) {\nurl = 'm=customer&a=index&content=resource';\npostParams['field'] = 'name';\n} else if (this.type === PlateType.Business) {\nurl = 'm=business&a=index';\npostParams['field'] = 'name';\n} else if (this.type === PlateType.Contract) {\nurl = 'm=contract&a=index';\npostParams['field'] = 'number'; \n} else if (this.type === PlateType.Contacts) {\nurl = 'm=contacts&a=index';\npostParams['field'] = 'name';\n} else if (this.type === PlateType.Product) {\nurl = 'm=product&a=index';\npostParams['field'] = 'name';\n} else if (this.type === PlateType.FinanceReceivables) {\nurl = 'm=finance&a=index';\npostParams['t'] = 'receivables';\npostParams['field'] = 'name';\n} else if (this.type === PlateType.FinanceReceivingorder) {\nurl = 'm=finance&a=index';\npostParams['t'] = 'receivingorder';\npostParams['field'] = 'name';\n}\n\n\n\n\nif (this.$route.params.action === 'select') {\npostParams['p'] = this.p;\npostParams['condition'] = 'contains';\npostParams['search'] = this.searchText;\nif (this.type === PlateType.Contacts) { //进行选择操作 并且是 联系人 需要客户ID\npostParams['customer_id'] = this.$route.params.addition;\n} else if (this.type === PlateType.Business) { //进行联系人关联商机 传客户ID\npostParams['customer_id'] = this.$route.params.addition.customer_id;\n}\n\n\n\n} else if (this.$route.params.type === PlateType.Product) {\nif (this.filterMenuIndex !== -1) {\npostParams['p'] = this.p;\npostParams['condition'] = 'contains';\npostParams['search'] = this.searchText;\npostParams['category_id'] = this.filterSelectID;\n}\n} else {\npostParams['p'] = this.p;\npostParams['condition'] = 'contains';\npostParams['search'] = this.searchText;\n}\n\n\nAjaxSilentHttp('POST', url, postParams, this, function(res, wself, success) {\nif (success && isArrayType(res.list)) {\nvar newItems = [];\nfor (var i = 0; i < res.list.length; i++) {\nnewItems[i] = wself.getNewItem(res.list[i]);\n}\nif (wself.p === 1) {\nwself.listItem = newItems;\n} else {\nwself.listItem = wself.listItem.concat(newItems);\n}\nif (typeof done === 'function') {\nif (wself.p === 1 && res.list.length < 10) {\ndone(true);\n} else if (res.list.length === 0) {\ndone(true);\n} else {\ndone();\n}\n}\nwself.p = wself.p + 1;\n}\n});\n},\ngetNewItem(item) {\nif (this.type === PlateType.Leads) {\nreturn { title: item.name, detail: item.mobile === '' ? '无' : item.mobile, rightTitle: getYMDFormateTime(item.create_time), permission: item.permission, id: item.leads_id };\n} else if (this.type === PlateType.Customer || this.type === PlateType.CustomerPool) {\nreturn { title: item.name, detail: item.owner_name, rightTitle: getYMDFormateTime(item.create_time), permission: item.permission, id: item.customer_id };\n} else if (this.type === PlateType.Business) {\nreturn { title: item.name, detail: item.customer_name, rightTitle: getYMDFormateTime(item.create_time), rightDetail: item.final_price, percent: item.schedule, schedule: item.status_name, permission: item.permission, id: item.business_id };\n} else if (this.type === PlateType.Contract) {\nreturn { title: item.number, detail: item.customer_name, rightTitle: getYMDFormateTime(item.create_time), rightDetail: item.price, percent: parseInt(item.schedule) > 100 ? '100' : item.schedule.toString(), is_checked: item.is_checked, permission: item.permission, id: item.contract_id };\n} else if (this.type === PlateType.Contacts) {\nreturn { title: item.name, detail: item.customer_name, rightTitle: item.telephone, permission: item.permission, id: item.contacts_id };\n} else if (this.type === PlateType.Product) {\nvar selected = false;\nif (this.$route.params.action === 'productmultiple') {\nfor (var i = 0; i < this.selectItemList.length; i++) {\nvar selectItem = this.selectItemList[i];\nif (selectItem.id === item.product_id) {\nselected = true;\n}\n}\n}\nreturn { title: item.name, detail: item.standard === '' ? item.standard : '价格（元/' + item.standard + '）', rightTitle: item.suggested_price, standard: item.standard, permission: item.permission, id: item.product_id, selected: selected };\n} else if (this.type === PlateType.FinanceReceivables) {\nitem.schedule = parseInt(item.schedule) > 100 ? '100' : item.schedule.toString();\nitem.id = item.receivables_id;\nreturn item;\n} else if (this.type === PlateType.FinanceReceivingorder) {\nitem.id = item.receivingorder_id;\nreturn item;\n}\nreturn { top: '', left: '', right: '' }\n},\n}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/crm/page/CRMSearch.vue","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"CRMSearch.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1afe387f\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/crm/page/CRMSearch.vue\n// module id = 716\n// module chunks = 47","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1afe387f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./CRMSearch.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"47df1268\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1afe387f\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/crm/page/CRMSearch.vue\n// module id = 782\n// module chunks = 47","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('scroller', {\n    ref: \"my_scroller\",\n    attrs: {\n      \"on-refresh\": _vm.refresh,\n      \"on-infinite\": _vm.infinite\n    }\n  }, [(_vm.type == _vm.PlateType.Leads || _vm.type == _vm.PlateType.Customer || _vm.type == _vm.PlateType.CustomerPool || _vm.type == _vm.PlateType.Contacts) ? _c('div', {\n    staticClass: \"weui-cells\",\n    staticStyle: {\n      \"margin-top\": \"0px\"\n    }\n  }, _vm._l((_vm.listItem), function(item, index) {\n    return _c('common-cell', {\n      key: index,\n      attrs: {\n        \"title\": item.title,\n        \"detail\": item.detail,\n        \"rightTitle\": item.rightTitle\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    })\n  })) : _vm._e(), _vm._v(\" \"), (_vm.type == _vm.PlateType.Contract) ? _c('div', {\n    staticClass: \"weui-cells\",\n    staticStyle: {\n      \"margin-top\": \"0px\"\n    }\n  }, _vm._l((_vm.listItem), function(item, index) {\n    return _c('contract-cell', {\n      key: index,\n      attrs: {\n        \"title\": item.title,\n        \"detail\": item.detail,\n        \"rightTitle\": item.rightTitle,\n        \"rightDetail\": item.rightDetail,\n        \"percent\": item.percent,\n        \"isChecked\": item.is_checked\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    })\n  })) : _vm._e(), _vm._v(\" \"), (_vm.type == _vm.PlateType.Business) ? _c('div', {\n    staticClass: \"weui-cells\",\n    staticStyle: {\n      \"margin-top\": \"0px\"\n    }\n  }, _vm._l((_vm.listItem), function(item, index) {\n    return _c('business-cell', {\n      key: index,\n      attrs: {\n        \"title\": item.title,\n        \"detail\": item.detail,\n        \"rightTitle\": item.rightTitle,\n        \"rightDetail\": item.rightDetail,\n        \"percent\": item.percent,\n        \"schedule\": item.schedule\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    })\n  })) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.listItem), function(item, index) {\n    return (_vm.type === _vm.PlateType.FinanceReceivables) ? _c('freceivables-cell', {\n      key: index,\n      attrs: {\n        \"item\": item\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    }) : _vm._e()\n  }), _vm._v(\" \"), _vm._l((_vm.listItem), function(item, index) {\n    return (_vm.type === _vm.PlateType.FinanceReceivingorder) ? _c('freceivingorder-cell', {\n      key: index,\n      attrs: {\n        \"item\": item\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    }) : _vm._e()\n  }), _vm._v(\" \"), (_vm.type == _vm.PlateType.Product) ? _c('group', {\n    attrs: {\n      \"gutter\": \"0\"\n    }\n  }, _vm._l((_vm.listItem), function(item, index) {\n    return _c('cell', {\n      key: index,\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.enterDetail(item)\n        }\n      }\n    }, [(_vm.showProductSelect) ? _c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (_vm.getSelectImage(item.selected)),\n        expression: \"getSelectImage(item.selected)\"\n      }],\n      staticStyle: {\n        \"display\": \"block\",\n        \"margin\": \"10px\"\n      },\n      attrs: {\n        \"width\": \"20\",\n        \"height\": \"20\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.selectProduct(item)\n        }\n      },\n      slot: \"icon\"\n    }) : _vm._e(), _vm._v(\" \"), _c('p', {\n      slot: \"title\"\n    }, [_vm._v(_vm._s(item.title))]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"text-align\": \"right\"\n      },\n      slot: \"value\"\n    }, [_c('p', {\n      staticStyle: {\n        \"min-height\": \"16px\",\n        \"font-size\": \"12px\"\n      }\n    }, [_vm._v(_vm._s(item.detail))]), _vm._v(\" \"), _c('p', {\n      staticStyle: {\n        \"color\": \"#5CB64F\"\n      }\n    }, [_vm._v(_vm._s(item.rightTitle))])])])\n  })) : _vm._e()], 2)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1afe387f\"}!./~/vux-loader/src/before-template-compiler-loader.js!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/crm/page/CRMSearch.vue\n// module id = 910\n// module chunks = 47"],"sourceRoot":""}