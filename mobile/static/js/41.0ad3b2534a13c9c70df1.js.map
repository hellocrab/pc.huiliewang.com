{"version":3,"sources":["webpack:///static/js/41.0ad3b2534a13c9c70df1.js","webpack:///./src/components/office/page/CommonDetail.vue?8551","webpack:///./src/components/office/page/CommonDetail.vue","webpack:///./src/components/office/page/CommonDetail.vue?0853","webpack:///./src/components/office/page/CommonDetail.vue?b10a","webpack:///./src/components/office/page/CommonDetail.vue?0f2f"],"names":["webpackJsonp","510","module","exports","__webpack_require__","injectStyle","ssrContext","Component","681","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1__js_enum_js__","__WEBPACK_IMPORTED_MODULE_3__js_utility_js__","__WEBPACK_IMPORTED_MODULE_4__crm_components_ListCell_vue__","__WEBPACK_IMPORTED_MODULE_4__crm_components_ListCell_vue___default","__WEBPACK_IMPORTED_MODULE_5_vuex__","__WEBPACK_IMPORTED_MODULE_6__js_color_js__","__WEBPACK_IMPORTED_MODULE_7__js_Event_js__","__WEBPACK_IMPORTED_MODULE_8_vux_src_components_actionsheet_index_vue__","__WEBPACK_IMPORTED_MODULE_8_vux_src_components_actionsheet_index_vue___default","name","components","ListCell","a","Actionsheet","data","type","itemList","showRightMenus","rightMenus","computed","PlateType","i","beforeDestroy","$off","mounted","$on","path","this","bind","$route","params","getDetail","methods","$store","commit","edit","list","push","val","detailView","subject","color","start_date","end_date","plateType","Default","title","Customer","Contacts","Leads","Business","Product","Contract","module_name","HeaderColor","addition","module_id","description","clickItem","item","$router","id","clickRightMenu","key","detail","Schedule","content","starttime","endtime","colorindex","getColorindex","event_id","action","colordata","index","length","715","version","sources","names","mappings","file","sourceRoot","781","locals","909","render","_vm","_h","$createElement","_c","_self","ref","staticClass","staticStyle","margin-top","_l","attrs","detailColor","nativeOn","click","$event","_v","menus","on","on-click-menu","model","callback","$$v","expression","staticRenderFns"],"mappings":"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","file":"static/js/41.0ad3b2534a13c9c70df1.js","sourcesContent":["webpackJsonp([41],{\n\n/***/ 510:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(781)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(681),\n  /* template */\n  __webpack_require__(909),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1aa6dad1\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 681:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__js_enum_js__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__js_ajaxHttp__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__js_utility_js__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__crm_components_ListCell_vue__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__crm_components_ListCell_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__crm_components_ListCell_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vuex__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__js_color_js__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__js_Event_js__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_vux_src_components_actionsheet_index_vue__ = __webpack_require__(126);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_vux_src_components_actionsheet_index_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_vux_src_components_actionsheet_index_vue__);\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'conmmondetail',\n  components: {\n    ListCell: __WEBPACK_IMPORTED_MODULE_4__crm_components_ListCell_vue___default.a,\n    Actionsheet: __WEBPACK_IMPORTED_MODULE_8_vux_src_components_actionsheet_index_vue___default.a\n  },\n  data: function data() {\n    return {\n      type: '',\n      itemList: [],\n      showRightMenus: false,\n      rightMenus: {}\n    };\n  },\n\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    PlateType: function PlateType() {\n      return __WEBPACK_IMPORTED_MODULE_1__js_enum_js__[\"a\" /* default */];\n    }\n  }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_vuex__[\"b\" /* mapState */])(['detailView'])),\n  beforeDestroy: function beforeDestroy() {\n    __WEBPACK_IMPORTED_MODULE_7__js_Event_js__[\"a\" /* default */].$off(\"onClickMore\");\n  },\n  mounted: function mounted() {\n    __WEBPACK_IMPORTED_MODULE_7__js_Event_js__[\"a\" /* default */].$on('onClickMore', function (path) {\n      this.showRightMenus = true;\n    }.bind(this));\n    this.type = this.$route.params.type;\n    this.getDetail();\n  },\n\n  methods: {\n    getDetail: function getDetail() {\n      if (this.type === 'scheduleview') {\n        this.$store.commit('updateXheaderRightOptions', true);\n        this.rightMenus.edit = '编辑';\n\n        var list = [];\n        list.push({ name: '内容', val: this.detailView.subject, color: '#8D8D8D', type: '0' });\n        list.push({ name: '开始时间', val: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__js_utility_js__[\"j\" /* getYMDHMFormateTime */])(this.detailView.start_date), color: '#8D8D8D', type: '0' });\n        list.push({ name: '结束时间', val: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__js_utility_js__[\"j\" /* getYMDHMFormateTime */])(this.detailView.end_date), color: '#8D8D8D', type: '0' });\n        var plateType = __WEBPACK_IMPORTED_MODULE_1__js_enum_js__[\"a\" /* default */].Default;\n        var title = '';\n        if (this.detailView.module === 'customer') {\n          plateType = __WEBPACK_IMPORTED_MODULE_1__js_enum_js__[\"a\" /* default */].Customer;\n          title = '客户';\n        } else if (this.detailView.module === 'contacts') {\n          plateType = __WEBPACK_IMPORTED_MODULE_1__js_enum_js__[\"a\" /* default */].Contacts;\n          title = '联系人';\n        } else if (this.detailView.module === 'leads') {\n          plateType = __WEBPACK_IMPORTED_MODULE_1__js_enum_js__[\"a\" /* default */].Leads;\n          title = '线索';\n        } else if (this.detailView.module === 'business') {\n          plateType = __WEBPACK_IMPORTED_MODULE_1__js_enum_js__[\"a\" /* default */].Business;\n          title = '商机';\n        } else if (this.detailView.module === 'product') {\n          plateType = __WEBPACK_IMPORTED_MODULE_1__js_enum_js__[\"a\" /* default */].Product;\n          title = '产品';\n        } else if (this.detailView.module === 'contract') {\n          plateType = __WEBPACK_IMPORTED_MODULE_1__js_enum_js__[\"a\" /* default */].Contract;\n          title = '产品';\n        } else {\n          plateType = '0';\n          title = '';\n        }\n        list.push({ name: '相关' + title, val: this.detailView.module_name, color: __WEBPACK_IMPORTED_MODULE_6__js_color_js__[\"a\" /* default */].HeaderColor, type: plateType, addition: this.detailView.module_id });\n        list.push({ name: '描述', val: this.detailView.description, color: '#8D8D8D', type: '0' });\n        this.itemList = list;\n      }\n    },\n    clickItem: function clickItem(item) {\n      if (this.type === 'scheduleview' && item.type !== '0') {\n        if (item.type === __WEBPACK_IMPORTED_MODULE_1__js_enum_js__[\"a\" /* default */].Product) {\n          this.$router.push({\n            name: 'crmdetail',\n            params: {\n              id: item.addition,\n              type: item.type\n            }\n          });\n        } else {\n          this.$router.push({\n            name: 'maindetail',\n            params: {\n              id: item.addition,\n              type: item.type\n            }\n          });\n        }\n      }\n    },\n    clickRightMenu: function clickRightMenu(key) {\n      if (this.type === 'scheduleview') {\n        if (key == 'edit') {\n          var detail = {};\n          detail.type = __WEBPACK_IMPORTED_MODULE_1__js_enum_js__[\"a\" /* default */].Schedule;\n          detail.content = this.detailView.subject;\n          detail.starttime = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__js_utility_js__[\"j\" /* getYMDHMFormateTime */])(this.detailView.start_date);\n          detail.endtime = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__js_utility_js__[\"j\" /* getYMDHMFormateTime */])(this.detailView.end_date);\n          detail.module = this.detailView.module;\n          detail.module_id = this.detailView.module_id;\n          detail.module_name = this.detailView.module_name;\n          detail.description = this.detailView.description;\n          detail.colorindex = this.getColorindex();\n          detail.id = this.detailView.event_id;\n          this.$store.commit('updateDetail', detail);\n          this.$router.push({\n            name: 'createschedule',\n            params: {\n              action: 'edit'\n            }\n          });\n        } else if (key == 'delete') {}\n      }\n    },\n    getColorindex: function getColorindex() {\n      var colordata = ['#62a8ea', '#46be8a', '#57c7d4', '#f2a654', '#f96868', '#526069', '#926dde'];\n      var index = -1;\n      for (var i = 0; i < colordata.length; i++) {\n        var item = colordata[i];\n        if (item === this.detailView.color) {\n          index = i;\n        }\n      }\n      return index;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 715:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(73)(true);\n// imports\nexports.i(__webpack_require__(478), \"\");\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"CommonDetail.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 781:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(715);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(476)(\"2314373a\", content, true);\n\n/***/ }),\n\n/***/ 909:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('scroller', {\n    ref: \"my_scroller\"\n  }, [_c('div', {\n    staticClass: \"weui-cells\",\n    staticStyle: {\n      \"margin-top\": \"0px\"\n    }\n  }, _vm._l((_vm.itemList), function(item, index) {\n    return _c('list-cell', {\n      key: index,\n      attrs: {\n        \"title\": item.name,\n        \"detail\": item.val,\n        \"detailColor\": item.color\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.clickItem(item)\n        }\n      }\n    })\n  }))]), _vm._v(\" \"), _c('actionsheet', {\n    attrs: {\n      \"menus\": _vm.rightMenus\n    },\n    on: {\n      \"on-click-menu\": _vm.clickRightMenu\n    },\n    model: {\n      value: (_vm.showRightMenus),\n      callback: function($$v) {\n        _vm.showRightMenus = $$v\n      },\n      expression: \"showRightMenus\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/41.0ad3b2534a13c9c70df1.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1aa6dad1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CommonDetail.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommonDetail.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1aa6dad1\\\"}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CommonDetail.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1aa6dad1\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/office/page/CommonDetail.vue\n// module id = 510\n// module chunks = 41","\nimport PlateType from '../../../js/enum.js'\nimport { AjaxHttp } from '../../../js/ajaxHttp'\nimport { getYMDHMFormateTime, isArrayType } from \"../../../js/utility.js\"\nimport ListCell from '../../crm/components/ListCell.vue'\nimport { mapState } from 'vuex'\nimport Color from '../../../js/color.js'\nimport event from '../../../js/Event.js'\nimport Actionsheet from 'vux/src/components/actionsheet/index.vue'\n\n\nexport default {\nname: 'conmmondetail',\ncomponents: {\nListCell,\nActionsheet,\n},\ndata() {\nreturn {\ntype: '',\nitemList: [],\nshowRightMenus: false,\nrightMenus: {}\n}\n},\ncomputed: {\nPlateType() {\nreturn PlateType;\n},\n...mapState([\n'detailView'\n])\n},\nbeforeDestroy() {\nevent.$off(\"onClickMore\");\n},\nmounted() {\nevent.$on('onClickMore', function(path) {\nthis.showRightMenus = true;\n}.bind(this));\nthis.type = this.$route.params.type;\nthis.getDetail();\n},\nmethods: {\ngetDetail() {\nif (this.type === 'scheduleview') {\nthis.$store.commit('updateXheaderRightOptions', true);\nthis.rightMenus.edit = '编辑';\n\nvar list = [];\nlist.push({ name: '内容', val: this.detailView.subject, color: '#8D8D8D', type: '0' });\nlist.push({ name: '开始时间', val: getYMDHMFormateTime(this.detailView.start_date), color: '#8D8D8D', type: '0' });\nlist.push({ name: '结束时间', val: getYMDHMFormateTime(this.detailView.end_date), color: '#8D8D8D', type: '0' });\nvar plateType = PlateType.Default;\nvar title = '';\nif (this.detailView.module === 'customer') {\nplateType = PlateType.Customer;\ntitle = '客户';\n} else if (this.detailView.module === 'contacts') {\nplateType = PlateType.Contacts;\ntitle = '联系人';\n} else if (this.detailView.module === 'leads') {\nplateType = PlateType.Leads;\ntitle = '线索';\n} else if (this.detailView.module === 'business') {\nplateType = PlateType.Business;\ntitle = '商机';\n} else if (this.detailView.module === 'product') {\nplateType = PlateType.Product;\ntitle = '产品';\n} else if (this.detailView.module === 'contract') {\nplateType = PlateType.Contract;\ntitle = '产品';\n} else {\nplateType = '0';\ntitle = '';\n}\nlist.push({ name: '相关' + title, val: this.detailView.module_name, color: Color.HeaderColor, type: plateType, addition: this.detailView.module_id });\nlist.push({ name: '描述', val: this.detailView.description, color: '#8D8D8D', type: '0' });\nthis.itemList = list;\n}\n},\nclickItem(item) {\nif (this.type === 'scheduleview' && item.type !== '0') {\nif (item.type === PlateType.Product) {\nthis.$router.push({\nname: 'crmdetail',\nparams: {\nid: item.addition,\ntype: item.type\n}\n});\n} else {\nthis.$router.push({\nname: 'maindetail',\nparams: {\nid: item.addition,\ntype: item.type\n}\n});\n}\n}\n},\nclickRightMenu(key) {\nif (this.type === 'scheduleview') {\nif (key == 'edit') {\nvar detail = {};\ndetail.type = PlateType.Schedule;\ndetail.content = this.detailView.subject;\ndetail.starttime = getYMDHMFormateTime(this.detailView.start_date);\ndetail.endtime = getYMDHMFormateTime(this.detailView.end_date);\ndetail.module = this.detailView.module;\ndetail.module_id = this.detailView.module_id;\ndetail.module_name = this.detailView.module_name;\ndetail.description = this.detailView.description;\ndetail.colorindex = this.getColorindex();\ndetail.id = this.detailView.event_id;\nthis.$store.commit('updateDetail', detail);\nthis.$router.push({\nname: 'createschedule',\nparams: {\naction: 'edit'\n}\n});\n} else if (key == 'delete') {\n\n}\n}\n},\ngetColorindex() {\nvar colordata = ['#62a8ea', '#46be8a', '#57c7d4', '#f2a654', '#f96868', '#526069', '#926dde'];\nvar index = -1;\nfor (var i = 0; i < colordata.length; i++) {\nvar item = colordata[i];\nif (item === this.detailView.color) {\nindex = i;\n}\n}\nreturn index;\n}\n}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/office/page/CommonDetail.vue","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\nexports.i(require(\"-!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../css/weui.min.css\"), \"\");\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"CommonDetail.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1aa6dad1\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/office/page/CommonDetail.vue\n// module id = 715\n// module chunks = 41","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1aa6dad1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./CommonDetail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"2314373a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1aa6dad1\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/office/page/CommonDetail.vue\n// module id = 781\n// module chunks = 41","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('scroller', {\n    ref: \"my_scroller\"\n  }, [_c('div', {\n    staticClass: \"weui-cells\",\n    staticStyle: {\n      \"margin-top\": \"0px\"\n    }\n  }, _vm._l((_vm.itemList), function(item, index) {\n    return _c('list-cell', {\n      key: index,\n      attrs: {\n        \"title\": item.name,\n        \"detail\": item.val,\n        \"detailColor\": item.color\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.clickItem(item)\n        }\n      }\n    })\n  }))]), _vm._v(\" \"), _c('actionsheet', {\n    attrs: {\n      \"menus\": _vm.rightMenus\n    },\n    on: {\n      \"on-click-menu\": _vm.clickRightMenu\n    },\n    model: {\n      value: (_vm.showRightMenus),\n      callback: function($$v) {\n        _vm.showRightMenus = $$v\n      },\n      expression: \"showRightMenus\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1aa6dad1\"}!./~/vux-loader/src/before-template-compiler-loader.js!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/office/page/CommonDetail.vue\n// module id = 909\n// module chunks = 41"],"sourceRoot":""}