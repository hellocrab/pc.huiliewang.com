webpackJsonp([43],{504:function(t,e,i){function n(t){i(772)}var s=i(0)(i(675),i(900),n,"data-v-0829c6f2",null);t.exports=s.exports},675:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),s=i.n(n),a=i(14),o=i(3),r=i(35),c=i.n(r),l=i(9),p=i(28),f=i(131),m=i.n(f),d=i(130),h=i.n(d);e.default={name:"examinemylist",components:{ListCell:c.a,Flexbox:m.a,FlexboxItem:h.a},computed:s()({},i.i(l.b)(["examineList"])),data:function(){return{itemlist:[],p:1,filterShow:!1,filterBackShow:!1,stateIndex:0,stateList:[{name:"全部",value:""},{name:"审批通过",value:"2"},{name:"审批拒绝",value:"3"},{name:"审批中",value:"1"}],typeIndex:0,typeList:[{name:"全部",value:""},{name:"普通审批",value:"1"},{name:"请假审批",value:"2"},{name:"普通报销",value:"3"},{name:"差旅报销",value:"4"},{name:"出差申请",value:"5"},{name:"借款申请",value:"6"}]}},beforeDestroy:function(){p.a.$off("filterData")},beforeRouteLeave:function(t,e,i){this.examineList.create={type:"create",itemlist:this.itemlist,p:this.p,stateIndex:this.stateIndex,typeIndex:this.typeIndex,refresh:!1,scroll:this.$refs.my_scroller.getPosition().top,loadingState:this.$refs.my_scroller.loadingState},this.examineList.examine_type=3,this.$store.commit("updateExamineList",this.examineList),i()},mounted:function(){var t=this;p.a.$on("filterData",function(){this.filterData()}.bind(this)),this.examineList.create&&(this.stateIndex=this.examineList.create.stateIndex,this.typeIndex=this.examineList.create.typeIndex,this.examineList.create.refresh?(this.p=1,this.itemlist=[]):(this.itemlist=this.examineList.create.itemlist,this.p=this.examineList.create.p,this.$nextTick(function(){t.$refs.my_scroller.resize(),t.$refs.my_scroller.scrollTo(0,t.examineList.create.scroll,!1),2===t.examineList.create.loadingState&&t.$refs.my_scroller.finishInfinite(!0)})))},methods:{infinite:function(t){this.getList(t)},refresh:function(t){this.p=1,this.getList(t)},getList:function(t){var e={};if(e.p=this.p,e.by="create",0!==this.stateIndex){var n=this.stateList[this.stateIndex];e.examine_status=n.value}if(0!==this.typeIndex){var n=this.typeList[this.typeIndex];e.type=n.value}i.i(a.a)("POST","m=examine&a=index",e,this,function(e,n,s){s&&i.i(o.h)(e.list)&&(1===n.p?n.itemlist=e.list:n.itemlist=n.itemlist.concat(e.list),"function"==typeof t&&(1===n.p&&e.list.length<10?t(!0):0===e.list.length?t(!0):t()),n.p=n.p+1)})},getShowTitle:function(t){return t.user_info.full_name+this.getTypeName(t.type)},getShowOne:function(t){return"1"===t.type?"申请事由："+t.content:"2"===t.type?"请假天数："+t.duration:"3"===t.type||"4"===t.type?"报销金额(元)："+t.budget:"5"===t.type?"目的地："+t.end_address:"6"===t.type?"借款金额(元)："+t.budget:""},getShowTwo:function(t){return"1"===t.type?"":"2"===t.type?"开始时间："+i.i(o.i)(t.start_time):"3"===t.type||"4"===t.type?"报销事由："+t.content:"4"===t.type?"的报销":"5"===t.type?"出发时间：："+i.i(o.i)(t.start_time):"6"===t.type?"借款事由："+t.content:""},getShowThree:function(t){return"1"===t.type?"":"2"===t.type?"开始时间："+i.i(o.i)(t.end_time):"3"===t.type||"4"===t.type?"":"5"===t.type?"返回时间："+i.i(o.i)(t.end_time):(t.type,"")},getShowFour:function(t){return"1"===t.type?"":"2"===t.type?"请假事由："+t.description:"3"===t.type||"4"===t.type?"":"5"===t.type?"":(t.type,"")},getUserImage:function(t){return i.i(o.c)(t.user_info.thumb_path)},getCreateTime:function(t){return i.i(o.i)(t.create_time)},getExamineStatus:function(t){return"0"===t?"待审":"1"===t?"审批中":"2"===t?"通过":"3"===t?"驳回":""},getTypeName:function(t){return"1"===t?"的审批":"2"===t?"的请假":"3"===t?"的报销":"4"===t?"的报销":"5"===t?"的出差":"6"===t?"的借款":""},enterItemDetail:function(t){this.$router.push({name:"examineview",params:{id:t.examine_id}})},filterData:function(){this.filterShow=!this.filterShow,this.filterBackShow=!this.filterBackShow},clickFilterBackShow:function(){this.filterShow=!1,this.filterBackShow=!1},filter:function(t,e){"state"===t?this.stateIndex=e:"type"===t&&(this.typeIndex=e),this.p=1,this.itemlist=[],this.$refs.my_scroller.finishInfinite(!1),this.clickFilterBackShow()},getCheckColor:function(t){return"0"===t?"#FACB42":"1"===t?"#FF6600":"2"===t?"#5ACD61":"3"===t?"#FF6600":void 0}}}},706:function(t,e,i){e=t.exports=i(73)(!0),e.i(i(477),""),e.i(i(478),""),e.push([t.i,".back_cover[data-v-0829c6f2]{position:fixed;width:100%;height:100%;z-index:501;top:0;background-color:rgba(0,0,0,.3)}.filter_back[data-v-0829c6f2]{position:fixed;bottom:0;right:0;top:46px;width:250px;overflow:auto;font-size:15px;border-bottom:1px solid #e7e7e7;background-color:#f9f9fb;z-index:502}.stateSelected[data-v-0829c6f2]{background-color:#dbf5ef!important;color:#00c398!important}.filterUnselected[data-v-0829c6f2]{background-color:#f4f4f4;color:#787878;text-align:center;padding:5px;margin:5px;border-radius:3px;font-size:15px}.typeSelected[data-v-0829c6f2]{background-color:#e4f2fa!important;color:#0085cd!important}","",{version:3,sources:["/src/components/office/examine/ExamineMyList.vue"],names:[],mappings:"AAGA,6BACE,eAAgB,AAChB,WAAY,AACZ,YAAa,AACb,YAAa,AACb,MAAM,AACN,+BAAqC,CACtC,AACD,8BACE,eAAgB,AAChB,SAAU,AACV,QAAS,AACT,SAAU,AACV,YAAa,AACb,cAAe,AACf,eAAgB,AAChB,gCAAiC,AACjC,yBAA0B,AAC1B,WAAa,CACd,AACD,gCACE,mCAAqC,AACrC,uBAA0B,CAC3B,AACD,mCACE,yBAA0B,AAC1B,cAAe,AACf,kBAAmB,AACnB,YAAa,AACb,WAAY,AACZ,kBAAmB,AACnB,cAAgB,CACjB,AACD,+BACE,mCAAqC,AACrC,uBAA0B,CAC3B",file:"ExamineMyList.vue",sourcesContent:['\n@import url("../../../css/mystyle.css");\n@import url("../../../css/weui.min.css");\n.back_cover[data-v-0829c6f2] {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 501;\n  top:0;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n.filter_back[data-v-0829c6f2] {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  top: 46px;\n  width: 250px;\n  overflow: auto;\n  font-size: 15px;\n  border-bottom: 1px solid #e7e7e7;\n  background-color: #F9F9FB;\n  z-index: 502;\n}\n.stateSelected[data-v-0829c6f2] {\n  background-color: #DBF5EF !important;\n  color: #00C398 !important;\n}\n.filterUnselected[data-v-0829c6f2] {\n  background-color: #F4F4F4;\n  color: #787878;\n  text-align: center;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 3px;\n  font-size: 15px;\n}\n.typeSelected[data-v-0829c6f2] {\n  background-color: #E4F2FA !important;\n  color: #0085CD !important;\n}\n\n'],sourceRoot:""}])},772:function(t,e,i){var n=i(706);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(476)("5838b832",n,!0)},900:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("scroller",{ref:"my_scroller",attrs:{"on-refresh":t.refresh,"on-infinite":t.infinite}},[i("div",{staticClass:"weui-cells",staticStyle:{"margin-top":"0px"}},t._l(t.itemlist,function(e,n){return i("list-cell",{key:n,attrs:{showtitle:!1,showdetail:!1},nativeOn:{click:function(i){t.enterItemDetail(e)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getUserImage(e),expression:"getUserImage(item)"}],staticStyle:{width:"40px",height:"40px",display:"block","margin-right":"10px","border-radius":"20px"},slot:"icon"}),t._v(" "),i("div",{slot:"child"},[i("p",[t._v(t._s(t.getShowTitle(e)))]),t._v(" "),i("p",{staticClass:"show-oneline",staticStyle:{"font-size":"14px",color:"#3D3E3F","margin-top":"5px"}},[t._v(t._s(t.getShowOne(e)))]),t._v(" "),""!==t.getShowTwo(e)?i("p",{staticClass:"show-oneline",staticStyle:{"font-size":"14px",color:"#3D3E3F","margin-top":"2px"}},[t._v(t._s(t.getShowTwo(e)))]):t._e(),t._v(" "),""!==t.getShowThree(e)?i("p",{staticClass:"show-oneline",staticStyle:{"font-size":"14px",color:"#3D3E3F","margin-top":"2px"}},[t._v(t._s(t.getShowThree(e)))]):t._e(),t._v(" "),""!==t.getShowFour(e)?i("p",{staticClass:"show-oneline",staticStyle:{"font-size":"14px",color:"#3D3E3F","margin-top":"2px"}},[t._v(t._s(t.getShowFour(e)))]):t._e(),t._v(" "),i("p",{staticClass:"show-oneline",staticStyle:{"font-size":"14px",color:"#FFAF3B","margin-top":"2px"},style:{color:t.getCheckColor(e.examine_status)}},[t._v(t._s(t.getExamineStatus(e.examine_status)))])]),t._v(" "),i("div",{staticStyle:{"font-size":"14px",color:"#CBCBCB"},slot:"value"},[t._v("\n          "+t._s(t.getCreateTime(e))+"\n        ")])])}))]),t._v(" "),t.filterShow?i("div",{staticClass:"filter_back"},[i("div",{staticStyle:{margin:"15px"}},[t._m(0),t._v(" "),i("div",[i("flexbox",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:0,wrap:"wrap"}},t._l(t.stateList,function(e,n){return i("flexbox-item",{key:n,attrs:{span:.5},nativeOn:{click:function(e){t.filter("state",n)}}},[i("div",[i("div",{staticClass:"filterUnselected",class:{stateSelected:t.stateIndex===n}},[t._v(t._s(e.name))])])])}))],1),t._v(" "),t._m(1),t._v(" "),i("div",[i("flexbox",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:0,wrap:"wrap"}},t._l(t.typeList,function(e,n){return i("flexbox-item",{key:n,attrs:{span:.5},nativeOn:{click:function(e){t.filter("type",n)}}},[i("div",[i("div",{staticClass:"filterUnselected",class:{typeSelected:t.typeIndex===n}},[t._v(t._s(e.name))])])])}))],1)])]):t._e(),t._v(" "),t.filterBackShow?i("div",{staticClass:"back_cover",on:{click:function(e){t.clickFilterBackShow()}}}):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-container flex-center"},[i("div",{staticStyle:{width:"16px",height:"16px","background-color":"#00C398","border-radius":"8px","margin-right":"10px"}}),t._v(" "),i("p",[t._v("审批状态")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-container flex-center"},[i("div",{staticStyle:{width:"16px",height:"16px","background-color":"#0085CD","border-radius":"8px","margin-right":"10px"}}),t._v(" "),i("p",[t._v("审批类型")])])}]}}});
//# sourceMappingURL=43.3b7d1f52da681395c9c2.js.map